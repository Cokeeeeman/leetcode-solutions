# 32. Longest Valid Parentheses

## Question

> Given a string containing just the characters `'('` and `')'`, find the length of the longest valid \(well-formed\) parentheses substring.
>
> **Example 1:**
>
> ```text
> Input: "(()"
> Output: 2
> Explanation: The longest valid parentheses substring is "()"
> ```
>
> **Example 2:**
>
> ```text
> Input: ")()())"
> Output: 4
> Explanation: The longest valid parentheses substring is "()()"
> ```

## Analysis

#### Solution \#1: Brute force

Time complexity would be `O(n^2)`.

#### Solution \#2: 

Time complexity would be`O(n)`.

## Code

```text
/**
 * @param {string} s
 * @return {number}
 */
var longestValidParentheses = function(s) {
  const len = s.length;
  // dp[i] is 
  const dp = new Array(len).fill(0);
  
  let max = 0;
  for (let i = 1; i < len; i++) {
    // 
    if (s[i] === '(') continue;

    if (i - dp[i - 1] - 1 >= 0 && s[i - dp[i - 1] - 1] === '(') {
      dp[i] = ((i - dp[i - 1]) >= 2 ? dp[i - dp[i - 1] - 2] : 0) + dp[i - 1] + 2;
    }
    
    max = Math.max(dp[i], max);
  }
  
  return max;
};
```

